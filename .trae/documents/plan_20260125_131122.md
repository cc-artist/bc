# 修复求法相图片下载功能

## 问题分析
1. 当前下载的图片只包含星空背景，没有佛学经典语句和日期
2. UI中显示的文字带有半透明背景，但用户要求文字无底纹
3. 下载功能需要将文字直接绘制到画布上，而不是仅在UI层显示

## 解决方案

### 1. 修改星空图生成函数
- 更新 `generateStarrySky` 函数，添加文字绘制逻辑
- 直接在画布上绘制随机佛学经典语句和当天日期
- 确保文字绘制在星空图之上，无底纹背景

### 2. 优化文字样式和位置
- 选择合适的字体大小和颜色，确保文字清晰可见
- 居中对齐文字，适配不同长度的语录
- 添加适当的文字描边或阴影，提高可读性

### 3. 更新UI显示
- 修改结果展示区域，移除文字的背景和阴影
- 使UI中显示的效果与下载的图片一致

### 4. 确保功能完整性
- 保留所有原有功能
- 确保不同风格的星空图都能正确显示文字
- 测试下载功能，验证文字完整包含在图片中

## 技术实现细节
- 使用Canvas API的 `fillText` 方法绘制文字
- 实现文字换行逻辑，处理较长的语录
- 调整文字颜色和描边，确保在不同背景下都清晰可见
- 更新 `handleGenerate` 函数，将语录和日期传递给绘制函数

## 文件修改
- `src/components/DharmaForm.tsx`：主要实现文件

## 实现步骤
1. 修改 `generateStarrySky` 函数，添加文字绘制参数和逻辑
2. 更新 `handleGenerate` 函数，传递语录和日期
3. 实现文字换行和居中对齐
4. 优化文字样式，添加描边效果
5. 更新UI显示，移除文字背景
6. 测试下载功能和不同风格的显示效果