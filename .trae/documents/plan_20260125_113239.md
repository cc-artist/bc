我将执行以下修复来确保下载的开光结果图片完整，不被剪切和拉伸：

1. **修改背景图绘制逻辑**：

   * 从"填充"改为"适应"模式，确保整个背景图可见

   * 使用"fit inside"算法，保持背景图原始宽高比

   * 先填充画布背景色，再绘制背景图

   * 确保背景图居中显示，无部分被剪切

2. **优化物品图绘制**：

   * 确保物品图完整显示，不超出画布边界

   * 保持物品图原始宽高比

   * 优化绘制位置计算

3. **改进画布处理**：

   * 先填充画布背景色，确保整体视觉完整

   * 处理不同分辨率下的图像绘制

   * 确保所有元素都在画布范围内

4. **具体修改**：

   * 修改背景图绘制算法为"fit inside"

   * 添加画布背景色填充

   * 优化宽高比计算

   * 确保所有元素完整显示

5. **技术实现**：

   * 使用`Math.min`计算适应画布的缩放因子

   * 先填充画布再绘制图像

   * 精确计算绘制位置和尺寸

6. **测试和验证**：

   * 确保下载的合成图完整，无剪切

   * 验证不同尺寸和比例的图片都能正确处理

   * 确保背景图和物品图都保持原始宽高比

