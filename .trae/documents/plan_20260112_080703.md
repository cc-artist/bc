1. **分析问题原因**：

   * 前端预览使用分层显示：背景图 + 带有CSS `drop-shadow` 效果的物品图

   * 前端为物品图添加了浮动动画

   * 后端合成的图片没有包含前端CSS添加的额外佛光效果

   * 前后端物品图的大小和比例不一致

2. **修复方案**：

   * 修改前端下载逻辑，使用Canvas API将当前预览的DOM元素转换为图片

   * 或者修改后端合成逻辑，完全模拟前端的CSS效果

   * 考虑到实现复杂度，选择前端Canvas方案更直接

3. **具体修改**：

   * 更新前端的 `handleDownload` 函数，使用Canvas API捕获当前预览的完整内容

   * 确保捕获的内容包含背景图和带有CSS佛光效果的物品图

   * 保持与原下载功能相同的用户体验

4. **修改文件**：

   * `frontend/src/app/page.tsx` - 修改下载逻辑

5. **实现步骤**：

   * 获取包含预览内容的DOM元素

   * 使用Canvas API绘制背景图

   * 在Canvas上绘制带有CSS效果的物品图

   * 将Canvas内容转换为Blob并下载

6. **测试验证**：

   * 上传测试图片，查看预览效果

   * 点击下载按钮，验证下载的图片与预览效果一致

   * 确保所有功能正常工作

