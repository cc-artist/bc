## 问题分析

经过代码分析，"点亮长明灯祈福"功能无法预览的主要原因可能是模态框显示逻辑存在问题。虽然代码中已经设置了`useEffect`钩子来监听`blessingResult`变化并设置`showModal(true)`，但在某些情况下可能没有正确触发。

## 修复方案

### 1. 直接设置模态框状态

**修改 `src/app/page.tsx` 文件：**

- 在 `handleGenerateLightExperience` 函数中直接添加 `setShowModal(true)`
- 同样在 `handleGenerateImage` 函数中添加 `setShowModal(true)` 以保持一致性
- 这样可以确保当生成完成后，模态框会立即显示，而不需要依赖 `useEffect` 钩子

### 2. 增强 `useEffect` 钩子

**修改 `useEffect` 钩子：**

- 明确处理 `blessingResult.blessingType === 'light'` 的情况
- 确保无论 `blessingType` 是什么，只要 `blessingResult` 存在，就会设置 `showModal(true)`

### 3. 添加调试日志

**添加调试日志：**

- 在 `handleGenerateLightExperience` 函数中添加更多调试日志
- 在 `useEffect` 钩子中添加调试日志，确保它能正确触发

## 预期效果

修复后，"点亮长明灯祈福"功能将能够正常预览：

- 点击按钮后，模态框会立即显示
- 显示长明灯相关内容和祝福语
- 功能完整可用

## 修复步骤

1. 修改 `handleGenerateLightExperience` 函数，添加 `setShowModal(true)`
2. 修改 `handleGenerateImage` 函数，添加 `setShowModal(true)`
3. 增强 `useEffect` 钩子，明确处理 `blessingType === 'light'` 的情况
4. 添加调试日志
5. 测试功能是否正常预览

## 技术细节

- 直接设置 `showModal(true)` 可以确保模态框立即显示
- 增强 `useEffect` 钩子可以提高代码的健壮性
- 添加调试日志可以帮助排查问题

这个修复方案简单明了，能够快速解决"点亮长明灯祈福"功能无法预览的问题，同时保持代码的健壮性和一致性。